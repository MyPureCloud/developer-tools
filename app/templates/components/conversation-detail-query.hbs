{{analytics-query-interval value=interval}}


<div class="panel panel-default">
    <div class="panel-heading"><h3 class="panel-title panel-title-condensed">Order</h3></div>
    <div class="panel-body">
        <p class="small text-muted">
            Sort the result set in ascending/descending order.
        </p>
        {{select-box items=orderOptions selectedItem=order class=form-control}}
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading"><h3 class="panel-title panel-title-condensed">Order By</h3></div>
    <div class="panel-body">
        <p class="small text-muted">
            Specify which data element within the result set to use for sorting.
        </p>
        {{select-box items=orderByOptions selectedItem=orderBy class=form-control}}
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading"><h3 class="panel-title panel-title-condensed">Paging</h3></div>
    <div class="panel-body">
        <p class="small text-muted">
            Page size and number to control iterating through large result sets.
        </p>
        <form class="form form-horizontal form-flex form-flex-2-col">
            <div class="form-group">
                <div class="control-label">
                    <label>Page Size</label>
                </div>
                {{input type="number" value=pageSize class="form-control" }}
            </div>
            <div class="form-group">
                <div class="control-label">
                    <label>Page Number</label>
                </div>
                {{input type="number" value=pageNumber class="form-control" }}
            </div>
        </form>
    </div>
</div>


<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title panel-title-condensed">Conversation Filters</h3>
        <button class='btn btn-link' {{action 'newConversationFilter'}} title="Add Filter">
            <i class="pc-moon pc-create-room"></i>
        </button>
    </div>
    <div class="panel-body">
        <p class="small text-muted">
            Filters that target conversation-level data.
        </p>

        {{#each conversationFilters as |conversationFilter index|}}
        <div class="filter-container">
            {{analytics-query-filter filter=conversationFilter showDefaultHeader=false index=index updateFilter=(action 'updateConversationFilter')}}
            <button class='btn btn-link btn-delete-filter' {{action 'deleteConversationFilter' index}}>
                <i class="ion-close-round" aria-hidden="true"></i>
            </button>
        </div>
        {{/each}}
    </div>
</div>


<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title panel-title-condensed">Evaluation Filters</h3>
        <button class='btn btn-link btn-sm' {{action 'newEvaluationFilter'}} title="Add Filter">
            <i class="pc-moon pc-create-room"></i>
        </button>
    </div>
    <div class="panel-body">
        <p class="small text-muted">
            Filters that target quality management evaluation-level data.
        </p>

        {{#each evaluationFilters as |evaluationFilter index|}}
        <div class="filter-container">
            {{analytics-query-filter filter=evaluationFilter showDefaultHeader=false index=index updateFilter=(action 'updateEvaluationFilter')}}
            <button class='btn btn-link btn-delete-filter' {{action 'deleteEvaluationFilter' index}}>
                <i class="ion-close-round" aria-hidden="true"></i>
            </button>
        </div>
        {{/each}}
    </div>
</div>


<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title panel-title-condensed">Segment Filters</h3>
        <button class='btn btn-link btn-sm' {{action 'newSegmentFilter'}} title="Add Filter">
            <i class="pc-moon pc-create-room"></i>
        </button>
    </div>
    <div class="panel-body">
        <p class="small text-muted">
            Filters that target individual segments within a conversation.
        </p>

        {{#each segmentFilters as |segmentFilter index|}}
        <div class="filter-container">
            {{analytics-query-filter filter=segmentFilter showDefaultHeader=false index=index updateFilter=(action 'updateSegmentFilter')}}
            <button class='btn btn-link btn-delete-filter' {{action 'deleteSegmentFilter' index}}>
                <i class="ion-close-round" aria-hidden="true"></i>
            </button>
        </div>
        {{/each}}
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title panel-title-condensed">Query Aggregation</h3>
        <button class='btn btn-link btn-sm' {{action 'newAggregation'}} title="Add Aggregation">
            <i class="pc-moon pc-create-room"></i>
        </button>
    </div>
    <div class="panel-body">
        <p class="small text-muted">
            Include faceted search and aggregate roll-ups describing your search results. This does not function as a filter, but rather, summary data about the data matching your filters
        </p>

        {{#each aggregations as |aggregation index|}}
        <div class="filter-container">
            {{analytics-query-aggregation aggregation=aggregation index=index updateAggregation=(action 'updateAggregation') deleteAggregation=(action 'deleteAggregation')}}
        </div>
        {{/each}}
    </div>
</div>
